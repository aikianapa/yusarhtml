{"version":3,"sources":["animation.js"],"names":["width","$","window","scrollTo","vw","lunitInit","height","ht","offset","scroolly","from","alias","css","position","to","bottom","onScroll","top","cssFrom","transform","vh","start","stop","Math","cssTo","images","ceil","length","i","os","opacity","z-index","plates","stop1","off","stop2","on","find","setTimeout","abs"],"mappings":"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","file":"animation.min.js","sourcesContent":["var width = $(window).width();\n\nvar lunitInit = function () {\n  window.scrollTo(0, 0);\n  var ht = 8000;\n  var vh = $(window).height();\n  var vw = $(window).width();\n  var ih // image height\n  var offset;\n  $('.qbody .staging ').height(ht);\n  if ($(window).width() > 0) {\n    $(\".to-fix\").scroolly(\n      [\n        {\n          alias: \"before\",\n          from: \"\",\n          to: \"con-top = top\",\n          css: {\n            position: \"static\",\n          },\n        },\n        {\n          alias: \"fixing\",\n          from: \"con-top = top\",\n          to: \"con-top + \" + ht + \" = bottom\",\n          css: {\n            position: \"fixed\",\n            top: \"\",\n            bottom: \"0\",\n          },\n          //                    onScroll: function($el, offset, length)\n          onScroll: function ($el, offset, length) {\n            ih = $(\".scene.scene-2.mis-container img:first-child\").height();\n          }\n        },\n        {\n          alias: \"unfixing\",\n          from: \"con-top + \" + ht + \" = bottom\",\n          to: \"doc-bottom\",\n          css: {\n            position: \"absolute\",\n            top: \"\",\n            bottom: \"0\",\n          },\n        },\n      ],\n      $(\".staging\")\n    );\n\n    $(\".staging-1 .scene-1\").scroolly(\n      [\n        {\n          // alias: \"before\",\n          // from: \"\",\n          to: \"con-top\",\n          css: {\n            top: \"216px\",\n          },\n        },\n        {\n          // alias: \"slide1\",\n          from: \"con-top\",\n          to: \"con-top + 500 = top\",\n          cssFrom: {\n            top: \"216px\",\n            transform: \"translateY(-1px)\",\n          },\n          cssTo: {\n            top: \"216px\",\n            transform: \"translateY(-\"+vh+\"px)\",\n          },\n        },\n      ],\n      $(\".staging-1\")\n    );\n\n    offset = 55;\n    $(window).width() > 767 ? offset = 37 : null;\n    $(window).width() > 1425 ? offset = 50 : null;\n    $(window).height() > 800 ? offset = 25 : null;\n    $(window).height() > 1000 ? offset = 0 : null;\n    if ($(window).width() < 768) {\n      vh >= 499 ? offset = 70 : null;\n      vh >= 560 ? offset = 55 : null;\n      vh >= 660 ? offset = 40 : null;\n      vh >= 730 ? offset = 30 : null;\n      vh >= 810 ? offset = 26 : null;\n      vh >= 1000 ? offset = 5 : null;\n      vh >= 1300 ? offset = 0 : null;\n    }\n\n\n    /*\n    1000 = -18\n    736 = -30 2.18\n    667 = -40 2.11\n    568 = - 55 2.18\n    500 = -70\n    */\n    $(\".staging-1 .scene-2\").scroolly(\n      [\n        {\n          from: \"con-top\",\n          to: \"con-top + 500 = top\",\n          cssFrom: {\n            top: \"37vh\",\n            transform: \"translateY(-0.01vh)\",\n          },\n          cssTo: {\n            top: \"37vh\",\n            transform: \"translateY(-\"+offset+\"vh)\",\n          },\n        },\n      ],\n      $(\".staging-1\")\n    );\n\n\n    // Картинки //\n    if ($(window).width() > 767) {\n      var start = 500;\n      var stop = Math.ceil(ht / 2 - start);\n    } else {\n      var start = 0;\n      var stop = Math.ceil(ht);\n    }\n    var images = $(\".staging-1 .scene-2 img\").length + 1;\n    offset = [];\n\n\n    for (i = 0; i <= images; i++) {\n      let os = Math.ceil((stop - start) / images);\n      offset[i] = start + os * (i + 1);\n      if (i !== 0) {\n        if (i + 1 <= images) {\n          $(\".staging-1 .scene-2 img:eq(\" + (i - 1) + \")\").scroolly([\n            {\n              from: \"con-top + \" + (offset[i - 1]) + \" = top\",\n              to: \"con-top + \" + (offset[i]) + \" = top\",\n              cssFrom: {\n                \"opacity\": \"0.999\",\n              },\n              cssTo: {\n                \"opacity\": \"0.001\",\n                \"z-index\": \"0\"\n              },\n            }\n          ],\n            $(\".staging-1\")\n          );\n        }\n\n        $(\".staging-1 .scene-2 img:eq(\" + i + \")\").scroolly(\n          [\n            {\n              from: \"con-top + \" + (offset[i - 1]) + \" = top\",\n              to: \"con-top + \" + (offset[i]) + \" = top\",\n              cssFrom: {\n                \"opacity\": \"0.001\",\n                \"z-index\": 1 + i\n              },\n              cssTo: {\n                \"opacity\": \"0.999\",\n                \"z-index\": 1 + i\n              },\n            },\n            {\n              from: \"con-top + \" + (offset[i + 1]) + 1 + \" = top\",\n              to: \"con-top + \" + (offset[i + 1] + 2) + \" = top\",\n              cssFrom: {\n                \"opacity\": \"0.999\",\n              },\n              cssTo: {\n                \"opacity\": \"0.001\",\n              },\n            }\n\n          ],\n          $(\".staging-1\")\n        );\n      }\n    }\n    // ========= //\n\n\n    // Плашки //  \n    var height = $(\".staging-1 .statistics-1\").height();\n    var off = stop;\n    var top = ht / 2;\n    var stop1;\n    var stop2;\n    var plates;\n    if ($(window).width() > 767) {\n      // первый блок плашек\n      plates = $('.staging-1 .statistics-1 .statistics__item').length;\n      for (i = 1; i <= plates; i++) {\n        let start = Math.ceil(top + (i * ((ht / 2 - off) / plates)));\n        let stop = stop1 = start + height;\n        $(\".staging-1 .statistics-1 .statistics__item:eq(\" + (i - 1) + \")\").scroolly(\n          [\n            {\n              from: \"con-top + \" + start + \" = top\",\n              to: \"con-top + \" + stop + \" = top\",\n              cssFrom: {\n                transform: \"translateY(24vh)\",\n                opacity: \"0\"\n              },\n              cssTo: {\n                transform: \"translateY(1vh)\",\n                opacity: \"0.7\"\n              },\n            }\n          ],\n          $(\".staging-1\")\n        );\n      }\n\n      // второй блок плашек\n      plates = $('.staging-1 .statistics-2 .statistics__item').length;\n      top = stop1 + vh;\n      for (i = 1; i <= plates; i++) {\n        let start = Math.ceil(top + (i * ((ht / 2 - off) / plates)));\n        let stop = stop2 = Math.ceil(start + height * 1.2);\n        $(\".staging-1 .statistics-2 .statistics__item:eq(\" + (i - 1) + \")\").scroolly(\n          [\n            {\n              from: \"con-top + \" + start + \" = top\",\n              to: \"con-top + \" + stop + \" = top\",\n              cssFrom: {\n                transform: \"translateY(24vh)\",\n                opacity: \"0\"\n              },\n              cssTo: {\n                transform: \"translateY(1vh)\",\n                opacity: \"0.7\"\n              },\n            }\n          ],\n          $(\".staging-1\")\n        );\n      }\n\n      // весь блок плашек наверх\n      let start = Math.ceil(stop1 + vh / 5);\n      let stop = start + vh;\n      $(\".staging-1 .statistics-1\").scroolly(\n        [\n          {\n            from: \"con-top + \" + start + \" = top\",\n            to: \"con-top + \" + stop + \" = top\",\n            cssFrom: {\n              top: \"-0.000vh\",\n              opacity: \"0.999\"\n            },\n            cssTo: {\n              top: \"-100vh\",\n              opacity: \"0\"\n            },\n          }\n        ],\n        $(\".staging-1\")\n      );\n\n      start = Math.ceil(stop2 + vh / 5);\n      stop = start + vh;\n      $(\".staging-1 .statistics-2\").scroolly(\n        [\n          {\n            from: \"con-top + \" + start + \" = top\",\n            to: \"con-top + \" + stop + \" = top\",\n            cssFrom: {\n              top: \"-0.000vh\",\n              opacity: \"0.999\"\n            },\n            cssTo: {\n              top: \"-100vh\",\n              opacity: \"0\"\n            },\n          }\n        ],\n        $(\".staging-1\")\n      );\n\n    } else {\n      var top = Math.ceil(ht - vh);\n      top = vh;\n      let offset = [];\n      let plates = $('.statistics.mis-container').find('.statistics__item').length;\n      let os = Math.ceil((ht - top - vh) / plates);\n      offset[0] = top;\n      for (i = 1; i <= plates; i++) {\n        offset[i] = top + (os * i);\n        offset[i + 1] = offset[i] + os;\n        $('.statistics.mis-container').height(height);\n        $('.statistics.mis-container > div').height(height);\n        $('.statistics.mis-container .statistics__item').height(height);\n        $(\".staging-1 .statistics__item:eq(\" + (i - 1) + \")\").scroolly(\n          [\n            {\n              from: \"con-top + \" + (offset[i - 1]) + \" = top\",\n              to: \"con-top + \" + (offset[i]) + \" = top\",\n              cssFrom: {\n                \"top\": \"25.000vh\",\n                \"opacity\": \"0.001\"\n              },\n              cssTo: {\n                \"top\": \"-0.001vh\",\n                opacity: \"0.999\"\n              },\n            },\n            {\n              from: \"con-top + \" + (offset[i]) + \" = top\",\n              to: \"con-top + \" + (offset[i + 1]) + \" = top\",\n              cssFrom: {\n                \"top\": \"-0.001vh\",\n                \"opacity\": \"0.999\"\n              },\n              cssTo: {\n                \"top\": \"-20.001vh\",\n                \"opacity\": \"0.001\"\n              },\n            }\n          ],\n          $(\".staging-1\")\n        );\n      }\n    }\n\n  }\n}\n\n$(window).on('resize', function () {\n  if (Math.abs(width - $(window).width()) > width / 10) lunitInit();\n})\n\nsetTimeout(function () {\n  lunitInit();\n}, 400)"]}