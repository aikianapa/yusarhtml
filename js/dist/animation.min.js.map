{"version":3,"sources":["animation.js"],"names":["width","$","window","scrollTo","vw","lunitInit","height","ht","from","offset","scroolly","alias","css","position","to","bottom","onScroll","top","cssFrom","transform","vh","start","stop","ceil","cssTo","images","Math","length","i","os","opacity","z-index","stop2","plates","off","stop1","find","on","abs","setTimeout"],"mappings":"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","file":"animation.min.js","sourcesContent":["var width = $(window).width();\n\nvar lunitInit = function () {\n  window.scrollTo(0, 0);\n  var ht = 8000;\n  var vh = $(window).height();\n  var vw = $(window).width();\n  var ih // image height\n  var offset;\n  $('.qbody .staging ').height(ht);\n  if ($(window).width() > 0) {\n    $(\".to-fix\").scroolly(\n      [\n        {\n          alias: \"before\",\n          from: \"\",\n          to: \"con-top = top\",\n          css: {\n            position: \"static\",\n          },\n        },\n        {\n          alias: \"fixing\",\n          from: \"con-top = top\",\n          to: \"con-top + \" + ht + \" = bottom\",\n          css: {\n            position: \"fixed\",\n            top: \"\",\n            bottom: \"0\",\n          },\n          //                    onScroll: function($el, offset, length)\n          onScroll: function ($el, offset, length) {\n            ih = $(\".scene.scene-2.mis-container img:first-child\").height();\n          }\n        },\n        {\n          alias: \"unfixing\",\n          from: \"con-top + \" + ht + \" = bottom\",\n          to: \"doc-bottom\",\n          css: {\n            position: \"absolute\",\n            top: \"\",\n            bottom: \"0\",\n          },\n        },\n      ],\n      $(\".staging\")\n    );\n\n    $(\".staging-1 .scene-1\").scroolly(\n      [\n        {\n          // alias: \"before\",\n          // from: \"\",\n          to: \"con-top\",\n          css: {\n            top: \"216px\",\n          },\n        },\n        {\n          // alias: \"slide1\",\n          from: \"con-top\",\n          to: \"con-top + 500 = top\",\n          cssFrom: {\n            top: \"216px\",\n            transform: \"translateY(-1px)\",\n          },\n          cssTo: {\n            top: \"216px\",\n            transform: \"translateY(-\"+vh+\"px)\",\n          },\n        },\n      ],\n      $(\".staging-1\")\n    );\n\n    offset = 55;\n    $(window).width() > 767 ? offset = 37 : null;\n    $(window).width() > 1425 ? offset = 50 : null;\n    $(\".staging-1 .scene-2\").scroolly(\n      [\n        {\n          from: \"con-top\",\n          to: \"con-top + 500 = top\",\n          cssFrom: {\n            top: \"37vh\",\n            transform: \"translateY(-0.01vh)\",\n          },\n          cssTo: {\n            top: \"37vh\",\n            transform: \"translateY(-\"+offset+\"vh)\",\n          },\n        },\n      ],\n      $(\".staging-1\")\n    );\n\n\n    // Картинки //\n    if ($(window).width() > 767) {\n      var start = 500;\n      var stop = Math.ceil(ht / 2 - start);\n    } else {\n      var start = 0;\n      var stop = Math.ceil(ht);\n    }\n    var images = $(\".staging-1 .scene-2 img\").length + 1;\n    offset = [];\n\n\n    for (i = 0; i <= images; i++) {\n      let os = Math.ceil((stop - start) / images);\n      offset[i] = start + os * (i + 1);\n      if (i !== 0) {\n        if (i + 1 <= images) {\n          $(\".staging-1 .scene-2 img:eq(\" + (i - 1) + \")\").scroolly([\n            {\n              from: \"con-top + \" + (offset[i - 1]) + \" = top\",\n              to: \"con-top + \" + (offset[i]) + \" = top\",\n              cssFrom: {\n                \"opacity\": \"0.999\",\n              },\n              cssTo: {\n                \"opacity\": \"0.001\",\n                \"z-index\": \"0\"\n              },\n            }\n          ],\n            $(\".staging-1\")\n          );\n        }\n\n        $(\".staging-1 .scene-2 img:eq(\" + i + \")\").scroolly(\n          [\n            {\n              from: \"con-top + \" + (offset[i - 1]) + \" = top\",\n              to: \"con-top + \" + (offset[i]) + \" = top\",\n              cssFrom: {\n                \"opacity\": \"0.001\",\n                \"z-index\": 1 + i\n              },\n              cssTo: {\n                \"opacity\": \"0.999\",\n                \"z-index\": 1 + i\n              },\n            },\n            {\n              from: \"con-top + \" + (offset[i + 1]) + 1 + \" = top\",\n              to: \"con-top + \" + (offset[i + 1] + 2) + \" = top\",\n              cssFrom: {\n                \"opacity\": \"0.999\",\n              },\n              cssTo: {\n                \"opacity\": \"0.001\",\n              },\n            }\n\n          ],\n          $(\".staging-1\")\n        );\n      }\n    }\n    // ========= //\n\n\n    // Плашки //  \n    var height = $(\".staging-1 .statistics-1\").height();\n    var off = stop;\n    var top = ht / 2 - start;\n    var stop1;\n    var stop2;\n    var plates;\n    if ($(window).width() > 767) {\n      // первый блок плашек\n      plates = $('.staging-1 .statistics-1 .statistics__item').length;\n      for (i = 1; i <= plates; i++) {\n        let start = Math.ceil(top + (i * ((ht / 2 - off) / plates)));\n        let stop = stop1 = start + height;\n        $(\".staging-1 .statistics-1 .statistics__item:eq(\" + (i - 1) + \")\").scroolly(\n          [\n            {\n              from: \"con-top + \" + start + \" = top\",\n              to: \"con-top + \" + stop + \" = top\",\n              cssFrom: {\n                transform: \"translateY(24vh)\",\n                opacity: \"0\"\n              },\n              cssTo: {\n                transform: \"translateY(1vh)\",\n                opacity: \"0.7\"\n              },\n            }\n          ],\n          $(\".staging-1\")\n        );\n      }\n\n      // второй блок плашек\n      plates = $('.staging-1 .statistics-2 .statistics__item').length;\n      top = stop1 + vh;\n      for (i = 1; i <= plates; i++) {\n        let start = Math.ceil(top + (i * ((ht / 2 - off) / plates)));\n        let stop = stop2 = Math.ceil(start + height * 1.2);\n        $(\".staging-1 .statistics-2 .statistics__item:eq(\" + (i - 1) + \")\").scroolly(\n          [\n            {\n              from: \"con-top + \" + start + \" = top\",\n              to: \"con-top + \" + stop + \" = top\",\n              cssFrom: {\n                transform: \"translateY(24vh)\",\n                opacity: \"0\"\n              },\n              cssTo: {\n                transform: \"translateY(1vh)\",\n                opacity: \"0.7\"\n              },\n            }\n          ],\n          $(\".staging-1\")\n        );\n      }\n\n      // весь блок плашек наверх\n      let start = Math.ceil(stop1 + vh / 5);\n      let stop = start + vh;\n      $(\".staging-1 .statistics-1\").scroolly(\n        [\n          {\n            from: \"con-top + \" + start + \" = top\",\n            to: \"con-top + \" + stop + \" = top\",\n            cssFrom: {\n              top: \"-0.000vh\",\n              opacity: \"0.999\"\n            },\n            cssTo: {\n              top: \"-100vh\",\n              opacity: \"0\"\n            },\n          }\n        ],\n        $(\".staging-1\")\n      );\n\n      start = Math.ceil(stop2 + vh / 5);\n      stop = start + vh;\n      $(\".staging-1 .statistics-2\").scroolly(\n        [\n          {\n            from: \"con-top + \" + start + \" = top\",\n            to: \"con-top + \" + stop + \" = top\",\n            cssFrom: {\n              top: \"-0.000vh\",\n              opacity: \"0.999\"\n            },\n            cssTo: {\n              top: \"-100vh\",\n              opacity: \"0\"\n            },\n          }\n        ],\n        $(\".staging-1\")\n      );\n\n    } else {\n      var top = Math.ceil(ht - vh);\n      top = vh;\n      let offset = [];\n      let plates = $('.statistics.mis-container').find('.statistics__item').length;\n      let os = Math.ceil((ht - top - vh) / plates);\n      offset[0] = top;\n      for (i = 1; i <= plates; i++) {\n        offset[i] = top + (os * i);\n        offset[i + 1] = offset[i] + os;\n        $('.statistics.mis-container').height(height);\n        $('.statistics.mis-container > div').height(height);\n        $('.statistics.mis-container .statistics__item').height(height);\n        $(\".staging-1 .statistics__item:eq(\" + (i - 1) + \")\").scroolly(\n          [\n            {\n              from: \"con-top + \" + (offset[i - 1]) + \" = top\",\n              to: \"con-top + \" + (offset[i]) + \" = top\",\n              cssFrom: {\n                \"top\": \"25.000vh\",\n                \"opacity\": \"0.001\"\n              },\n              cssTo: {\n                \"top\": \"-0.001vh\",\n                opacity: \"0.999\"\n              },\n            },\n            {\n              from: \"con-top + \" + (offset[i]) + \" = top\",\n              to: \"con-top + \" + (offset[i + 1]) + \" = top\",\n              cssFrom: {\n                \"top\": \"-0.001vh\",\n                \"opacity\": \"0.999\"\n              },\n              cssTo: {\n                \"top\": \"-20.001vh\",\n                \"opacity\": \"0.001\"\n              },\n            }\n          ],\n          $(\".staging-1\")\n        );\n      }\n    }\n\n  }\n}\n\n$(window).on('resize', function () {\n  if (Math.abs(width - $(window).width()) > width / 10) lunitInit();\n})\n\nsetTimeout(function () {\n  lunitInit();\n}, 400)"]}